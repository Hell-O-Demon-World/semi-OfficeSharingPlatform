{"ast":null,"code":"var _jsxFileName = \"/Users/org/Workspace/Git/OfficeSharingPlatform/FE/src/pages/SignIn.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useRef, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Button from \"../components/UI/Button\";\nimport Card from \"../components/UI/Card\";\nimport { AuthContext } from \"../store/auth-Context\";\nimport classes from \"./SignUp.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignIn = () => {\n  _s();\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const submitHandler = e => {\n    e.preventDefault();\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n    setIsLoading(true);\n    fetch(\"/auth/signin\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        id: enteredEmail,\n        pw: enteredPassword\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      setIsLoading(false);\n      if (res.ok) {\n        return res.json();\n      } else {\n        return res.json().then(data => {\n          let errorMessage = \"로그인 오류\";\n          errorMessage = data.error.message;\n          if (data && data.error && data.error.message) {\n            throw new Error(errorMessage);\n          }\n        });\n      }\n    }).then(data => {\n      console.log(data);\n      authCtx.login(data.accessToken);\n      history.push(\"/\");\n    }).catch(err => {\n      alert(err.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.signIn,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/main\",\n        className: classes.headerLink,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Office Sharing Platform\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.signUpForm,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"\\uC544\\uC774\\uB514(\\uC774\\uBA54\\uC77C \\uD615\\uC2DD)\",\n          ref: emailInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\uD328\\uC2A4\\uC6CC\\uB4DC\",\n          ref: passwordInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this), !isLoading && /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.navLink,\n          children: [\"\\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/auth/signup\",\n            children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(SignIn, \"UNOSj0amB52AHu3OacLwWxhlmxQ=\", false, function () {\n  return [useHistory];\n});\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useContext","useRef","useState","Link","useHistory","Button","Card","AuthContext","classes","SignIn","history","authCtx","isLoading","setIsLoading","emailInputRef","passwordInputRef","submitHandler","e","preventDefault","enteredEmail","current","value","enteredPassword","fetch","method","body","JSON","stringify","id","pw","headers","then","res","ok","json","data","errorMessage","error","message","Error","console","log","login","accessToken","push","catch","err","alert","signIn","headerLink","signUpForm","navLink"],"sources":["/Users/org/Workspace/Git/OfficeSharingPlatform/FE/src/pages/SignIn.js"],"sourcesContent":["import React, { useContext, useRef, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Button from \"../components/UI/Button\";\nimport Card from \"../components/UI/Card\";\nimport { AuthContext } from \"../store/auth-Context\";\nimport classes from \"./SignUp.module.css\";\nconst SignIn = () => {\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n    setIsLoading(true);\n    fetch(\"/auth/signin\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        id: enteredEmail,\n        pw: enteredPassword,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            let errorMessage = \"로그인 오류\";\n            errorMessage = data.error.message;\n            if (data && data.error && data.error.message) {\n              throw new Error(errorMessage);\n            }\n          });\n        }\n      })\n      .then((data) => {\n        console.log(data)\n        authCtx.login(data.accessToken);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n  return (\n    <Card className={classes.signIn}>\n      <header>\n        <Link to=\"/main\" className={classes.headerLink}>\n          <h1>Office Sharing Platform</h1>\n        </Link>\n      </header>\n      <section className={classes.signUpForm}>\n        <form onSubmit={submitHandler}>\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"아이디(이메일 형식)\"\n            ref={emailInputRef}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"패스워드\"\n            ref={passwordInputRef}\n          />\n\n          {isLoading && <p>loading...</p>}\n          {!isLoading && <Button type=\"submit\">로그인</Button>}\n          <p className={classes.navLink}>\n            계정이 없으신가요?<Link to=\"/auth/signup\">회원가입</Link>\n          </p>\n        </form>\n      </section>\n    </Card>\n  );\n};\n\nexport default SignIn;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}